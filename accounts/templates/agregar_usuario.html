{% extends 'base.html' %}
{% load static %}

{% block head-app %}
    <div>
        <h1><i class="fas fa-atom"> </i>{{ title }}</h1>
        <p>Sistema de Gestion - Labsoft</p>
    </div>
{% endblock %}



{% block navbar %}
    {% include 'home/navbar.html' %}
{% endblock navbar %}


{% block sidebar %}
    {% include 'home/sidebar.html' %}
{% endblock sidebar %}

{% block css %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
{% endblock css %}

{% block content %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <div class="tile">
                    <h3 class="tile-title">{{ subtitle }}</h3>

                    <div id="message_id">
                     {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-{{ message.tags }}" role="alert">
                                {{ message }}
                            </div>
                        {% endfor %}
                     {% endif %}
                </div>


                    <div class="tile-body">
                        <form method="POST" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="form-group">
                                <label class="control-label">Username</label>
                                {{ form.username }}
                            </div>
                            <div class="form-group">
                                <label class="control-label">Nombre</label>
                                {{ form.first_name }}
                            </div>
                            <div class="form-group">
                                <label class="control-label">Apellido</label>
                                {{ form.last_name }}
                            </div>
                            <div class="form-group">
                                <label class="control-label">Email</label>
                                {{ form.email }}
                            </div>
                            <div class="form-group">
                                <label class="control-label">Imagen</label>
                                {{ form.profile }}
                            </div>
                            <div class="form-group">
                                <label class="control-label">Grupos</label>
                                {{ form.groups }}
                            </div>
                            <div class="form-group">
                                <label class="control-label">Contraseña</label>
                                {{ form.password1 }}
                            </div>
                            <div class="form-group">
                                <label class="control-label">Confirmar Contraseña</label>
                                {{ form.password2 }}
                            </div>
                            <div class="tile-footer">
                                <button class="btn btn-primary" type="submit"><i
                                        class="fa fa-fw fa-lg fa-check-circle"></i>Registrar
                                </button>&nbsp;&nbsp;&nbsp;<a
                                    class="btn btn-secondary" href="{% url 'index' %}"><i
                                    class="fa fa-fw fa-lg fa-times-circle"></i>Cancel</a>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{% static "js/plugins/bootstrap-notify.min.js" %}"></script>
    <script>

        /*
            var message_ele = document.getElementById("message_id");
            setTimeout(function(){
                message_ele.style.display = "none";
            }, 3000);
        */
        {% if messages %}
            {% for message in messages %}
                setTimeout(function () {
                    $.notify({
                        title: "",
                        message: "{{ message }}",
                        icon: 'fa fa-check'
                    }, {
                        type: "{{ message.tags}}",
                        allow_dismiss: true,
                        newest_on_top: false,
                        showProgressbar: false,
                        placement: {
                            from: "top",
                            align: "right"
                        },
                        offset: 20,
                        spacing: 10,
                        z_index: 50000,
                        delay: 3000,
                        timer: 2000,
                        url_target: '_blank',
                        mouse_over: null,
                        animate: {
                            enter: 'animated fadeInDown',
                            exit: 'animated fadeOutUp'
                        },
                        onShow: null,
                        onShown: null,
                        onClose: null,
                        onClosed: null,
                    });
                }, 1000);
            {% endfor %}
        {% endif %}

    </script>
{% endblock %}