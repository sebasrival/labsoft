{% extends 'base.html' %}
{% load static %}

{% block navbar %}
    {% include 'home/navbar.html' %}
{% endblock navbar %}


{% block sidebar %}
    {% include 'home/sidebar.html' %}
{% endblock sidebar %}

{% block css %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
{% endblock css %}

{% block content %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <div class="tile">
                    <h3 class="tile-title">Editar Orden</h3>
                    <div id="message_id">
                     {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-{{ message.tags }}" role="alert">
                                {{ message }}
                            </div>
                        {% endfor %}
                     {% endif %}

                    <div class="tile-body">
                        <form method="POST">
                            {% csrf_token %}
                            <div class="form-group">
                            <label class="control-label">Codigo Elaboracion</label>
                            {{form.codigo_elaboracion}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Codigo Producto</label>
                            {{form.codigo_producto}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Descripción Producto</label>
                            {{form.desc_producto }}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Cantidad teorica</label>
                            {{form.cant_teorica}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Vencimiento</label>
                            {{form.vencimiento}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Estado</label>
                            {{form.estado}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Numero orden</label>
                            {{form.orden_numero}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Fecha Emisión</label>
                            {{form.fecha_emision}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Fecha Vigencia</label>
                            {{form.fecha_vigencia}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Realizado por</label>
                            {{form.realizado_por}}
                        </div>
                        <div class="form-group">
                            <label class="control-label">Verificado por</label>
                            {{form.verificado_por}}
                        </div>
                            <div class="tile-footer">
                                <button class="btn btn-primary" type="submit"><i
                                        class="fa fa-fw fa-lg fa-check-circle"></i>Actualizar
                                </button>&nbsp;&nbsp;&nbsp;<a
                                    class="btn btn-secondary" href="{% url 'lista_orden' %}"><i
                                    class="fa fa-fw fa-lg fa-times-circle"></i>Cancel</a>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{% static "js/plugins/bootstrap-notify.min.js" %}"></script>
    <script>

        /*
            var message_ele = document.getElementById("message_id");
            setTimeout(function(){
                message_ele.style.display = "none";
            }, 3000);
        */
        {% if messages %}
            {% for message in messages %}
                setTimeout(function () {
                    $.notify({
                        title: "",
                        message: "{{ message }}",
                        icon: 'fa fa-check'
                    }, {
                        type: "{{ message.tags}}",
                        allow_dismiss: true,
                        newest_on_top: false,
                        showProgressbar: false,
                        placement: {
                            from: "top",
                            align: "right"
                        },
                        offset: 20,
                        spacing: 10,
                        z_index: 50000,
                        delay: 3000,
                        timer: 2000,
                        url_target: '_blank',
                        mouse_over: null,
                        animate: {
                            enter: 'animated fadeInDown',
                            exit: 'animated fadeOutUp'
                        },
                        onShow: null,
                        onShown: null,
                        onClose: null,
                        onClosed: null,
                    });
                }, 1000);
            {% endfor %}
        {% endif %}

    </script>
{% endblock %}